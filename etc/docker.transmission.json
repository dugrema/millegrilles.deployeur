{
  "Name": "transmission",
  "TaskTemplate": {
    "ContainerSpec": {
      "Image": "${transmission}",
      "Hostname": "transmission",
      "Env": [
        "PGID=980",
        "TZ=America/Toronto",
        "USER=millegrilles",
        "PASS=bwahahah1202"
      ],
      "Mounts": [
        {
          "Type": "bind",
          "Source": "/var/opt/millegrilles/${IDMG}/mounts/consignation/torrents/downloads",
          "Target": "/downloads"
        },{
          "Type": "bind",
          "Source": "/var/opt/millegrilles/${IDMG}/mounts/consignation/torrents",
          "Target": "/torrents"
        }

      ],
      "Labels": {
        "ipv6.mapper.network": "mg_ipv6"
      }
    },
    "Placement": {
      "Constraints": [
        "node.labels.netzone.private == true",
        "node.labels.millegrilles.coupdoeil == true"
      ]
    },
    "Resources": {
      "Limits": {
        "NanoCPUs": 500000000,
        "MemoryBytes": 52428800
      }
    },
    "RestartPolicy": {
      "Condition": "on-failure",
      "Delay": 30000000000,
      "MaxAttempts": 3
    },
    "Mode": {
      "Replicated": {
        "Replicas": 1
      }
    },
    "Networks": [
        {
          "Target": "mg_${IDMG}_net",
          "Aliases": ["transmission"]
        }
    ]
  },
 "EndpointSpec": {
    "Mode": "vip",
    "Ports": [
      {
        "Protocol": "tcp",
        "PublishedPort": 51413,
        "TargetPort": 51413
      },
      {
        "Protocol": "udp",
        "PublishedPort": 51413,
        "TargetPort": 51413
      }
    ]
  },
  "Labels": {
    "millegrille": "${IDMG}"
  }
}
